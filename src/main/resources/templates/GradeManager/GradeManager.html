<html layout:decorate="~{layout_page}" xmlns:layout="http://www.w3.org/1999/xhtml">

<meta name="_csrf" content="${_csrf.token}">
<meta name="_csrf_header" content="${_csrf.headerName}">

<head>
  <style>
    .wj-header {
      text-align: center;
    }

    /* 셀 왼쪽 정렬 */
    .wj-cell {
      text-align: left;
    }
    table td {
      border-bottom: 1px solid #EBEBEB;
      height: 48px;
      padding: 5px 10px;
    }
    .wp100 {
      width: 100% !important;
      box-sizing: border-box; /* padding 포함 */
    }
  </style>
</head>

<th:block layout:fragment="content">
  <!--- (레이아웃) Contents 영역 -->
  <div class="layout-contents">
    <!-- Page Title -->
    <div class="page-title-wrap">
      <div class="left">
        <h2>등급관리 등록</h2>
        <!--                <a title="북마크" class="bookmark toggle">-->
        <!--                    내메뉴-->
        <!--                </a>-->
      </div>
      <ul class="page-navi">
        <li><img src="/images/icon/ico-nav-home.svg" alt="홈아이콘"></li>
        <li></li>
        <li>등급관리 등록</li>
      </ul>
    </div>
    <div class="tab-wrap">
      <!--            <ul class="tab-links">-->
      <!--                <li>-->
      <!--                    <a href="#tab1" title="목록">목록</a>-->
      <!--                </li>-->
      <!--                 <li>-->
      <!--                  <a href="#tab2" title="등록">등록</a>-->
      <!--                </li>-->
      <!--            </ul>-->
      <div class="tab-contents">
        <!-- Section -->
        <section class="tab-item" id="tab1">
          <div class="section-top">
            <div class="search-wrap">
              <dl>
                <dt>
                  <label for="txtCode">
                    검색<span class="eq">*</span>
                  </label>
                </dt>
                <dd>
                  <div class="srch-box">
                    <input type="text" id="txtCode" name="txtCode" class="input-srch">
                    <a class="btn-srch" id="btnSearch" title="검색"></a>
                  </div>
                </dd>
              </dl>
            </div>
            <div class="button-wrap" style="border-top:none;">
              <ul>
                <li>
                  <a class="btn btn-excell" title="신규등록" id="Newbtn">
                    <img src="/images/icon/ico-plus.svg" alt="등록 아이콘">
                    신규등록
                  </a>
                </li>
                <li>
                  <a class="btn btn-edit" id="btnSave" title="저장">
                    <img src="/images/icon/ico-save.svg" alt="저장 아이콘">
                    저장
                  </a>
                </li>
                <li>
                  <a class="btn btn-delete" title="삭제" id="btnDelete">
                    <img src="/images/icon/ico-delete.svg" alt="엑셀 아이콘">
                    삭제
                  </a>
                </li>
              </ul>
            </div>
          </div> <!--//section-top end -->
          <div class="row">
            <div class="wp50 mg-r20">
              <div class="container-fluid col">
                <p id="selectedItem"></p>
                <div id="theGrid" style="max-height: 740px;"></div>
              </div>
            </div>
            <div class="col wp50">
              <div class="section">
                <form id="codeForm">
                  <!-- Hidden Fields -->
                  <input type="hidden" id="parent_id" name="parent_id" value="" />
                  <input class="form-control2" type="text" id="id" name="id" hidden />

                  <!-- Table Wrap -->
                  <div class="table-wrap">
                    <table class="view-table" id="selectedData" style="max-height: 740px;">
                      <caption>보고분기 상세 테이블</caption>
                      <colgroup>
                        <col class="wp20">
                        <col class="wauto">
                      </colgroup>
                      <tbody>
                      <tr>
                        <th><label for="grid">등급</label></th>
                        <td colspan="3">
                          <select id="grid" name="grid" class="wp100"  style="width: 670px; !important" >
                            <option value="">선택하세요</option>
                            <option value="S">S</option>
                            <option value="A">A</option>
                            <option value="B">C</option>
                            <option value="C">D</option>
                            <option value="D">D</option>
                            <option value="E">E</option>
                            <option value="F">F</option>
                          </select>
                        </td>
                      </tr>
                      <tr>
                        <th><label for="grscore1">점수</label></th>
                        <td>
                          <select id="grscore1" name="grscore1" class="wp100"  style="width: 325px  !important">
                            <option value="">선택하세요</option>
                            <option value="100">100</option>
                            <option value="89">89</option>
                            <option value="79">79</option>
                            <option value="69">69</option>
                            <option value="59">59</option>
                            <option value="49">49</option>
                            <option value="39">39</option>
                          </select>
                        </td>
                        <td  colspan="2">
                          <select id="grscore2" name="grscore2" class="wp100" style="width: 330px !important">
                            <option value="">선택하세요</option>
                            <option value="90">90</option>
                            <option value="80">80</option>
                            <option value="70">70</option>
                            <option value="60">60</option>
                            <option value="50">50</option>
                            <option value="40">40</option>
                            <option value="29(0)">29(0)</option>
                          </select>
                        </td>
                      </tr>
                      <tr>
                        <th><label for="grflag">명칭</label></th>
                        <td colspan="3">
                          <select id="grflag" name="grflag" class="wp100" style="width: 670px; !important" >
                            <option value="">선택하세요</option>
                            <option value="1">안심</option>
                            <option value="2">관심</option>
                            <option value="3">주의</option>
                            <option value="4">경계</option>
                            <option value="5">불안</option>
                            <option value="6">심각</option>
                            <option value="7">위험</option>
                          </select>
                        </td>
                      </tr>
                      <tr>
                        <th><label for="grcolor">표시색상</label></th>
                        <td>
                          <select id="grcolor" name="grcolor" class="wp100">
                            <option value="">선택하세요</option>
                            <option value="white">흰색</option>
                            <option value="green">초록색</option>
                            <option value="skyblue">하늘색</option>
                            <option value="yellow">노랑색</option>
                            <option value="orange">주황색</option>
                            <option value="red">빨강색</option>
                            <option value="black">검정색</option>
                          </select>
                        </td>
                        <th><label for="grface">표정</label></th>
                        <td>
                          <select id="grface" name="grface" class="wp100">
                            <option value="">선택하세요</option>
                            <option value="1">편안함표정</option>
                            <option value="2">신중한표정</option>
                            <option value="3">우려하는 모습</option>
                            <option value="4">경계하는모습</option>
                            <option value="5">불안한표정</option>
                            <option value="6">긴장한표정</option>
                            <option value="7">공포에질린모습</option>
                          </select>
                        </td>
                      </tr>
                      <tr>
                        <th><label for="grmood">날씨</label></th>
                        <td>
                          <select id="grmood" name="grmood" class="wp100">
                            <option value="">선택하세요</option>
                            <option value="1">맑음</option>
                            <option value="2">약간 흐림</option>
                            <option value="3">흐림</option>
                            <option value="4">비</option>
                            <option value="5">폭우</option>
                            <option value="6">태풍</option>
                            <option value="7">홍수</option>
                          </select>
                        </td>
                        <th><label for="gricon">아이콘</label></th>
                        <td>
                          <select id="gricon" name="gricon" class="wp100">
                            <option value="">선택하세요</option>
                            <option value="1">방패,금고</option>
                            <option value="2">돋보기</option>
                            <option value="3">물음표</option>
                            <option value="4">큰 눈</option>
                            <option value="5">안절부정</option>
                            <option value="6">좌절OTL</option>
                            <option value="7">금지</option>
                          </select>
                        </td>
                      </tr>
                      </tbody>
                    </table>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </section>
        <!-- Section -->
      </div>
    </div>
  </div> <!--//layout-contents end -->

  <footer style="margin-top: 12px;">
    <p>Copyrightⓒ 0000 corp. All rights reserved.</p>
  </footer>

</th:block>

<th:block layout:fragment="scripts">
  <th:block th:replace="/common/columns_setting :: columns_setting"></th:block>

  <script type="text/javascript">
    // 하드코딩된 데이터
    var data = [
      { grid: 'S', grscore: "100~90", grflag: "안심", grmood: '맑음', gricon: "방패,금고" },
      { grid: 'D', grscore: "59~50", grflag: "불안", grmood: '폭우', gricon: "안절부절" },
      { grid: 'C', grscore: "69~60", grflag: "경계", grmood: '비', gricon: "큰 눈" },
      { grid: 'A', grscore: "89~80", grflag: "관심", grmood: '약간 흐림', gricon: "돋보기" }
    ];

    // 컬럼 정의
    var columns = [
      { binding: 'grid', header: '등급', align: 'center', width: 150 },
      { binding: 'grscore', header: '점수', align: 'center', width: 150 },
      { binding: 'grflag', header: '명칭', align: 'center', width: 150 },
      { binding: 'grmood', header: '날씨', align: 'center', width: 150 },
      { binding: 'gricon', header: '아이콘', align: 'center', width: "*" }
    ];

    // 초기화 함수
    function init() {
      // FlexGrid 생성
      var theGrid = new wijmo.grid.FlexGrid('#theGrid', {
        autoGenerateColumns: false,
        columns: columns,
        isReadOnly: true,
        itemsSource: data // 하드코딩된 데이터 연결
      });
      theGrid.rowHeaders.columns.splice(0, 1);

      // 헤더 스타일 및 셀 렌더링
      theGrid.formatItem.addHandler(function (s, e) {
        if (e.panel === s.cells) { // 셀이 렌더링될 때만 처리
          const col = s.columns[e.col];
          const item = s.rows[e.row].dataItem[col.binding];

          // 특정 컬럼이 'exflag'일 때 처리
          if (col.binding === 'exflag') {
            e.cell.innerHTML = ''; // 기존 내용을 비움

            // 체크박스 생성 및 렌더링
            const input = document.createElement('input');
            input.type = 'checkbox';
            input.checked = item === '1'; // '1'일 때 체크
            input.disabled = true; // 읽기 전용
            input.style.margin = '0 auto'; // 체크박스 수평 정렬
            input.style.display = 'block'; // 블록 레벨로 설정하여 수직 정렬

            e.cell.appendChild(input);

            // 셀 스타일 설정 (중앙 정렬)
            e.cell.style.display = 'flex';
            e.cell.style.justifyContent = 'center';
            e.cell.style.alignItems = 'center';
          }
        }
      });
    }

    // 초기화 실행
    init();
  </script>
</th:block>
</html>